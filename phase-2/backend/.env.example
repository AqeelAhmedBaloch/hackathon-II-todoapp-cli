# ============================================================================
# Backend Environment Variables (.env)
# ============================================================================
# IMPORTANT: Copy this file to .env and fill in the values
# Command: cp .env.example .env
# ============================================================================

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================
# PostgreSQL connection string
# Format: postgresql://username:password@host:port/database_name

# For Docker Compose (container name as host)
DATABASE_URL='postgresql://neondb_owner:npg_VPd9HIf3xeMz@ep-tiny-cake-a1i82f06-pooler.ap-southeast-1.aws.neon.tech/neondb?sslmode=require&channel_binding=require'

# For local PostgreSQL (localhost)
# DATABASE_URL=postgresql://postgres:your_password@localhost:5432/todoapp

# For production (replace with actual credentials)
# DATABASE_URL=postgresql://prod_user:secure_password@prod-db-host:5432/todoapp_prod

# ============================================================================
# JWT AUTHENTICATION
# ============================================================================
# Secret key for signing JWT tokens
# IMPORTANT: Generate a secure random key for production!
#
# Generate using Python:
#   python -c "import secrets; print(secrets.token_urlsafe(32))"
#
# Generate using OpenSSL:
#   openssl rand -base64 32
#
JWT_SECRET_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiYWRtaW4iOnRydWUsImlhdCI6MTUxNjIzOTAyMn0.KMUFsIDTnFmyG3nMiGM6H9FNFUROf3wh7SmqJp-QV30

# JWT algorithm (HS256 recommended)
JWT_ALGORITHM=HS256

# Token expiration time in hours (24 hours = 1 day)
ACCESS_TOKEN_EXPIRE_HOURS=24

# ============================================================================
# CORS CONFIGURATION
# ============================================================================
# Comma-separated list of allowed origins (no spaces)
# Development: Allow Vite dev server
CORS_ORIGINS=http://localhost:8000,http://localhost:3000

# Production: Only allow your production frontend domain
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# ============================================================================
# APPLICATION SETTINGS
# ============================================================================
# Application name
APP_NAME=Todo App API - Phase 2

# Debug mode (true for development, false for production)
DEBUG=true

# API version
API_VERSION=1.0.0

# ============================================================================
# SERVER CONFIGURATION
# ============================================================================
# Server host (0.0.0.0 for Docker, 127.0.0.1 for local)
HOST=0.0.0.0

# Server port
PORT=8000

# Number of worker processes (for production with Gunicorn)
WORKERS=4

# ============================================================================
# SECURITY SETTINGS
# ============================================================================
# Bcrypt password hashing rounds (10-12 recommended, higher = more secure but slower)
BCRYPT_ROUNDS=12

# Rate limiting (requests per minute per IP)
RATE_LIMIT_PER_MINUTE=100

# ============================================================================
# LOGGING
# ============================================================================
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# Log file path (optional, leave empty for console only)
LOG_FILE=

# ============================================================================
# DATABASE POOL SETTINGS (Optional, SQLAlchemy defaults are usually fine)
# ============================================================================
# Maximum number of connections in the pool
# DB_POOL_SIZE=5

# Maximum overflow connections
# DB_MAX_OVERFLOW=10

# Connection timeout in seconds
# DB_POOL_TIMEOUT=30

# ============================================================================
# NOTES FOR PRODUCTION
# ============================================================================
# 1. NEVER commit .env file to Git (it's in .gitignore)
# 2. Use strong, unique JWT_SECRET_KEY (32+ characters)
# 3. Set DEBUG=false in production
# 4. Use HTTPS in production (configure reverse proxy)
# 5. Restrict CORS_ORIGINS to your actual domain
# 6. Use environment-specific database credentials
# 7. Enable rate limiting
# 8. Set up database backups
# 9. Use secrets management (AWS Secrets Manager, Vault, etc.)
# 10. Rotate JWT_SECRET_KEY periodically

# ============================================================================
# EXAMPLE PRODUCTION VALUES
# ============================================================================
# DATABASE_URL=postgresql://prod_user:StrongPassword123!@prod-db.example.com:5432/todoapp_prod
# JWT_SECRET_KEY=vF3mK9pL2qN8rT5wX7yZ1aC4bE6dG0hJ
# JWT_ALGORITHM=HS256
# ACCESS_TOKEN_EXPIRE_HOURS=24
# CORS_ORIGINS=https://todoapp.com,https://www.todoapp.com
# DEBUG=false
# LOG_LEVEL=WARNING
# BCRYPT_ROUNDS=12
# RATE_LIMIT_PER_MINUTE=60
